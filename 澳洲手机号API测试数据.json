{
  "测试概述": {
    "测试号码": "0435497013",
    "测试时间": "2025-09-20 14:00-14:05",
    "API基地址": "http://localhost:8080/api/v1",
    "生产环境": "http://3.107.205.176:8080/api/v1",
    "测试状态": "全部通过 ✅"
  },
  
  "API测试流程": [
    {
      "步骤": 1,
      "接口": "发送注册验证码",
      "方法": "POST",
      "URL": "/auth/sms/send",
      "请求数据": {
        "mobile": "0435497013",
        "type": "register"
      },
      "响应数据": {
        "code": 200,
        "message": "验证码发送成功",
        "data": {
          "smsId": "sms_20250920140200_545",
          "expireTime": 300
        },
        "timestamp": 1758348120886
      },
      "验证码": "3446",
      "状态": "成功 ✅"
    },
    {
      "步骤": 2,
      "接口": "用户注册",
      "方法": "POST", 
      "URL": "/auth/register",
      "请求数据": {
        "username": "澳洲测试用户",
        "mobile": "0435497013",
        "password": "TestPassword123",
        "confirmPassword": "TestPassword123",
        "smsCode": "3446",
        "smsId": "sms_20250920140200_545",
        "agreeTerms": true
      },
      "响应数据": {
        "code": 200,
        "message": "注册成功",
        "data": {
          "userId": "1969281040665153536",
          "username": "澳洲测试用户",
          "mobile": "0435497013",
          "email": null,
          "avatar": "https://cdn.fliliy.com/avatar/default.png",
          "accessToken": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxOTY5MjgxMDQwNjY1MTUzNTM2IiwibW9iaWxlIjoiMDQzNTQ5NzAxMyIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTgzNDgxNjIsImV4cCI6MTc1ODM1NTM2Mn0.KJnCGLlz_cnsnk7aepbIVxGbpELBwcp2R64GTt8V3jo",
          "refreshToken": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxOTY5MjgxMDQwNjY1MTUzNTM2IiwidHlwZSI6InJlZnJlc2giLCJpYXQiOjE3NTgzNDgxNjIsImV4cCI6MTc1OTY0NDE2Mn0.s8le23ug_RAx4-HuuLYn8FQ69jYfdViJtdTDjnnGcqg",
          "expiresIn": 7200,
          "needBindMobile": false
        },
        "timestamp": 1758348162350
      },
      "状态": "成功 ✅"
    },
    {
      "步骤": 3,
      "接口": "密码登录",
      "方法": "POST",
      "URL": "/auth/login/password",
      "请求数据": {
        "mobile": "0435497013",
        "password": "TestPassword123",
        "rememberMe": true
      },
      "响应数据": {
        "code": 200,
        "message": "登录成功",
        "data": {
          "userId": "1969281040665153536",
          "username": "澳洲测试用户",
          "mobile": "0435497013",
          "email": null,
          "avatar": "https://cdn.fliliy.com/avatar/default.png",
          "accessToken": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxOTY5MjgxMDQwNjY1MTUzNTM2IiwibW9iaWxlIjoiMDQzNTQ5NzAxMyIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTgzNDgyMjgsImV4cCI6MTc1ODM1NTQyOH0.-X9nsGr4BW-jbgJktpiIEbs0teestFHJJlrdhRXevPE",
          "refreshToken": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxOTY5MjgxMDQwNjY1MTUzNTM2IiwidHlwZSI6InJlZnJlc2giLCJpYXQiOjE3NTgzNDgyMjgsImV4cCI6MTc1OTY0NDIyOH0.cAkgV-vPv6Dpx_cfIDw0ADM856T3d_67Mt-fund8yjY",
          "expiresIn": 7200,
          "needBindMobile": false
        },
        "timestamp": 1758348228689
      },
      "状态": "成功 ✅"
    },
    {
      "步骤": 4,
      "接口": "发送登录验证码",
      "方法": "POST",
      "URL": "/auth/sms/send",
      "请求数据": {
        "mobile": "0435497013",
        "type": "login"
      },
      "响应数据": {
        "code": 200,
        "message": "验证码发送成功",
        "data": {
          "smsId": "sms_20250920140409_493",
          "expireTime": 300
        },
        "timestamp": 1758348249408
      },
      "验证码": "5520",
      "状态": "成功 ✅"
    },
    {
      "步骤": 5,
      "接口": "短信验证码登录",
      "方法": "POST",
      "URL": "/auth/login/sms",
      "请求数据": {
        "mobile": "0435497013",
        "smsCode": "5520",
        "smsId": "sms_20250920140409_493"
      },
      "响应数据": {
        "code": 200,
        "message": "登录成功",
        "data": {
          "userId": "1969281040665153536",
          "username": "澳洲测试用户",
          "mobile": "0435497013",
          "email": null,
          "avatar": "https://cdn.fliliy.com/avatar/default.png",
          "accessToken": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxOTY5MjgxMDQwNjY1MTUzNTM2IiwibW9iaWxlIjoiMDQzNTQ5NzAxMyIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NTgzNDgyNzAsImV4cCI6MTc1ODM1NTQ3MH0.RsR24jgh9y3HlbquI1W2psn8XMED8TOCpfOMbhMKdLA",
          "refreshToken": "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxOTY5MjgxMDQwNjY1MTUzNTM2IiwidHlwZSI6InJlZnJlc2giLCJpYXQiOjE3NTgzNDgyNzAsImV4cCI6MTc1OTY0NDI3MH0.SJJx2fLCSU9tq3BivVxgvGJeulUcXZ6zC5iKRZrCYGU",
          "expiresIn": 7200,
          "needBindMobile": false
        },
        "timestamp": 1758348270657
      },
      "状态": "成功 ✅"
    }
  ],

  "手机号格式验证规则": {
    "正则表达式": "^(1[3-9]\\d{9}|0[4-5]\\d{8})$",
    "JavaScript版本": "/^(1[3-9]\\d{9}|0[4-5]\\d{8})$/",
    "支持格式": [
      {
        "类型": "中国手机号",
        "格式": "13-19开头11位数字",
        "示例": ["13800138000", "15912345678", "18655432123"]
      },
      {
        "类型": "澳洲手机号", 
        "格式": "04或05开头10位数字",
        "示例": ["0435497013", "0567890123", "0412345678"]
      }
    ],
    "验证测试": [
      {"号码": "0435497013", "类型": "澳洲04开头", "结果": "✅ 有效"},
      {"号码": "0567890123", "类型": "澳洲05开头", "结果": "✅ 有效"},
      {"号码": "13800138000", "类型": "中国13开头", "结果": "✅ 有效"},
      {"号码": "0312345678", "类型": "澳洲03开头", "结果": "❌ 无效"},
      {"号码": "043549701", "类型": "澳洲9位", "结果": "❌ 无效"}
    ]
  },

  "cURL测试命令": {
    "健康检查": "curl -s http://localhost:8080/api/v1/health",
    "发送验证码": "curl -X POST http://localhost:8080/api/v1/auth/sms/send -H \"Content-Type: application/json\" -d '{\"mobile\": \"0435497013\", \"type\": \"register\"}'",
    "用户注册": "curl -X POST http://localhost:8080/api/v1/auth/register -H \"Content-Type: application/json\" -d '{\"username\": \"澳洲测试用户\", \"mobile\": \"0435497013\", \"password\": \"TestPassword123\", \"confirmPassword\": \"TestPassword123\", \"smsCode\": \"XXXX\", \"smsId\": \"sms_id\", \"agreeTerms\": true}'",
    "密码登录": "curl -X POST http://localhost:8080/api/v1/auth/login/password -H \"Content-Type: application/json\" -d '{\"mobile\": \"0435497013\", \"password\": \"TestPassword123\", \"rememberMe\": true}'",
    "短信登录": "curl -X POST http://localhost:8080/api/v1/auth/login/sms -H \"Content-Type: application/json\" -d '{\"mobile\": \"0435497013\", \"smsCode\": \"XXXX\", \"smsId\": \"sms_id\"}'"
  },

  "前端测试建议": {
    "测试环境": [
      "本地开发: http://localhost:8080/api/v1", 
      "AWS生产: http://3.107.205.176:8080/api/v1"
    ],
    "测试用例": [
      {
        "场景": "澳洲号码注册",
        "测试号码": "0435497013",
        "预期": "验证成功，能正常注册"
      },
      {
        "场景": "澳洲号码登录",
        "测试号码": "0435497013", 
        "预期": "密码和短信登录都成功"
      },
      {
        "场景": "中国号码兼容",
        "测试号码": "13800138000",
        "预期": "原有功能正常"
      },
      {
        "场景": "无效格式",
        "测试号码": "0312345678",
        "预期": "前端验证拦截"
      }
    ],
    "关键验证点": [
      "前端输入框实时验证",
      "错误提示信息准确性",
      "API响应处理",
      "Token存储和使用",
      "页面跳转逻辑"
    ]
  },

  "注意事项": {
    "验证码": "开发环境验证码会在后端控制台显示",
    "Token有效期": "accessToken: 2小时, refreshToken: 15天",
    "错误码": "参考API文档中的错误码说明",
    "跨域": "确保CORS配置正确"
  }
}